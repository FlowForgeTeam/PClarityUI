{% extends "../base.twig" %}
{% block content %}
    <h2>General Settings</h2>
    
    <div class="settings-section">
        {% for setting in parametersSettings %}
            <div class="setting-item">
                <div class="setting-content">
                    <h3>{{ setting.header }}</h3>
                    <p>{{setting.explanation}}</p>
                </div>
                <label class="toggle-switch">
                    <input type="checkbox" data-setting="monitoring.{{ setting.setting-name }}">
                    <span class="toggle-slider"></span>
                </label>
            </div>
        {% endfor %}

        {# <div class="setting-item">
            <div class="setting-content">
                <h3>Track GPU utility usage over time</h3>
                <p>Enable tracking of your GPU usage to monitor its performance during application runtime.</p>
            </div>
            <label class="toggle-switch">
                <input type="checkbox" data-setting="monitoring.gpuTracking">
                <span class="toggle-slider"></span>
            </label>
        </div>

        <div class="setting-item">
            <div class="setting-content">
                <h3>Track CPU utility usage over time</h3>
                <p>Enable tracking of your CPU usage to help identify performance bottlenecks.</p>
            </div>
            <label class="toggle-switch">
                <input type="checkbox" data-setting="monitoring.cpuTracking">
                <span class="toggle-slider"></span>
            </label>
        </div>

        <div class="setting-item">
            <div class="setting-content">
                <h3>Track RAM utility usage over time</h3>
                <p>Enable tracking of your memory usage to better understand resource consumption.</p>
            </div>
            <label class="toggle-switch">
                <input type="checkbox" data-setting="monitoring.ramTracking">
                <span class="toggle-slider"></span>
            </label>
        </div> #}

        <div class="setting-item">
            <div class="setting-content">
                <h3>Automatically set all found apps as tracked</h3>
                <p>Automatically mark newly detected apps for resource usage tracking.</p>
            </div>
            <label class="toggle-switch">
                <input type="checkbox" data-setting="monitoring.autoTrackNewApps">
                <span class="toggle-slider"></span>
            </label>
        </div>
    </div> 

    <h2>Tracker Customization</h2>
    
    <div class="settings-section">
        <div class="setting-item">
            <div class="setting-content">
                <h3>Statistics refresh rate</h3>
                <p>Set how often the app updates resource usage statistics.</p>
            </div>
            <div class="refresh-rate-container">
                <span class="refresh-label">each</span>
                <input type="number" 
                       id="refresh-interval" 
                       class="refresh-input" 
                       min="1" 
                       max="999" 
                       data-setting="monitoring.refreshInterval">
                <div class="time-units">
                    <button type="button" class="time-unit active" data-unit="s">s</button>
                    <button type="button" class="time-unit" data-unit="m">m</button>
                    <button type="button" class="time-unit" data-unit="h">h</button>
                    <button type="button" class="time-unit" data-unit="d">d</button>
                </div>
            </div>
        </div>

        <div class="setting-item">
            <div class="setting-content">
                <h3>Save folder for logs</h3>
                <p>Choose where to store generated logs for usage tracking and diagnostics.</p>
            </div>
            <div class="folder-input-container">
                <input type="text" 
                       id="log-folder" 
                       class="folder-input" 
                       data-setting="monitoring.logFolder"
                       readonly>
                <button type="button" class="browse-button" id="browse-folder">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <h2>Notifications</h2>
    
    <div class="settings-section">
        <div class="setting-item">
            <div class="setting-content">
                <h3>Enable notifications</h3>
                <p>Show system notifications for important events and alerts.</p>
            </div>
            <label class="toggle-switch">
                <input type="checkbox" data-setting="notifications.enabled">
                <span class="toggle-slider"></span>
            </label>
        </div>

        <div class="setting-item">
            <div class="setting-content">
                <h3>Notification sound</h3>
                <p>Play a sound when a notification appears.</p>
            </div>
            <label class="toggle-switch">
                <input type="checkbox" data-setting="notifications.sound">
                <span class="toggle-slider"></span>
            </label>
        </div>
    </div>

    <div class="settings-section">
        <h2>Debug</h2>
        <h3>Settings are saved to: pclarity-settings.json</h3>
        <button id="reset-settings" class="reset-button">Reset to Defaults</button>
    </div>

{% endblock %}